{"ast":null,"code":"var _jsxFileName = \"E:\\\\Semester_6\\\\Booking_App\\\\booking\\\\src\\\\containers\\\\HomeTemplate\\\\Purchase\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Container, Divider, Grid, Paper, Typography, Button } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { actGetMovieShowtimesApi, actBookTicket } from \"./modules/action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useStyles } from \"./style\";\nimport Spinner from \"react-spinner-material\";\nimport { Fragment } from \"react\";\nimport { CURRENTUSER } from \"./modules/newconstant\";\nimport LoadingPage from \"../../../components/LoadingPage\";\nimport Swal from \"sweetalert2\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Purchase(props) {\n  _s();\n\n  const renderLoading = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"30vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderColor: \"#0ff\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        size: 120,\n        spinnerColor: \"#00f\",\n        spinnerWidth: 1,\n        visible: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  };\n\n  const movieShowtimes = useSelector(state => state.movieShowtimesReducer);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    let showtimesID = props.match.params.maLichChieu;\n    dispatch(actGetMovieShowtimesApi(showtimesID));\n  }, []);\n  const [num, setnum] = useState(0);\n  const [flag, setFlag] = useState(false);\n  const chairRowArray = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\"];\n\n  const renderChairRow = index => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.rowChairContainer,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        className: classes.rowChairName,\n        children: chairRowArray[index]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  };\n\n  const renderMovieChair = data => {\n    return data.danhSachGhe.map((chair, index) => {\n      let indexChair = movieShowtimes.bookingChairList.findIndex(choseChair => choseChair.maGhe === chair.maGhe);\n      let classBookedChair = chair.daDat ? classes.bookedChair : null;\n      let classVipChair = chair.loaiGhe === \"Vip\" ? classes.vipChair : null;\n      let classChoosingChair = \"\";\n\n      if (indexChair !== -1) {\n        classChoosingChair = \"green\";\n        console.log(classChoosingChair, \"aa\");\n      }\n\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          disabled: chair.daDat,\n          className: `${classes.chair} ${classBookedChair} ${classVipChair}`,\n          style: {\n            backgroundColor: `${classChoosingChair}`\n          },\n          onClick: () => {\n            dispatch({\n              type: \"CHOOSE_CHAIR\",\n              payload: chair\n            });\n          },\n          children: chair.daDat ? \"X\" : chair.stt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), (index + 1) % 16 === 0 ? /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 37\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: movieShowtimes.loading ? /*#__PURE__*/_jsxDEV(LoadingPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.chairContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: \"100%\"\n            },\n            src: \"https://tix.vn/app/assets/img/icons/screen.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"79.9%\",\n              margin: \"0 auto\"\n            },\n            children: movieShowtimes.data ? renderMovieChair(movieShowtimes.data) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.demoChairContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.demoChairGroup,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: true,\n                className: `${classes.chair} ${classes.bookedChair} ${classes.demoChair}`,\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"\\u0110\\xE3 \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.demoChairGroup,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: true,\n                className: `${classes.chair} ${classes.demoChair}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Th\\u01B0\\u1EDDng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.demoChairGroup,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: true,\n                className: `${classes.chair} ${classes.vipChair} ${classes.demoChair}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Vip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), movieShowtimes.data ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.datveBox,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.sectionSpacing,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              style: {\n                color: \"#8bc34a\",\n                fontSize: \"35px\",\n                textAlign: \"center\"\n              },\n              children: [movieShowtimes.bookingChairList.reduce((tongTien, gheDD, index) => {\n                return tongTien += gheDD.giaVe;\n              }, 0), \" \", \"VND\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"C\\u1EE5m R\\u1EA1p:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.data.thongTinPhim.tenCumRap\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"\\u0110\\u1ECBa ch\\u1EC9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: `${classes.spanInfo} ${classes.textElipsis}`,\n              children: movieShowtimes.data.thongTinPhim.diaChi\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"R\\u1EA1p:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.data.thongTinPhim.tenRap\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"Ng\\xE0y gi\\u1EDD chi\\u1EBFu:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: [movieShowtimes.data.thongTinPhim.ngayChieu, \" -\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: movieShowtimes.data.thongTinPhim.gioChieu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"T\\xEAn Phim:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.data.thongTinPhim.tenPhim\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"Ch\\u1ECDn: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.bookingChairList.map((bookChair, index) => {\n                return /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Gh\\u1EBF \", bookChair.stt, \", \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 30\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              if (!localStorage.getItem(CURRENTUSER)) {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Bạn chưa đăng nhập\",\n                  text: \"Bạn có muốn đăng nhập không ?\",\n                  confirmButtonText: \"Đồng ý\",\n                  showDenyButton: true,\n                  denyButtonText: \"Không\"\n                }).then(result => {\n                  if (result.isConfirmed) {\n                    history.push(\"/sign-in\");\n                  }\n                });\n                return;\n              }\n\n              if (movieShowtimes.bookingChairList.length === 0) {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Bạn chưa chọn ghế\",\n                  text: \"Vui lòng chọn ghế ?\",\n                  confirmButtonText: \"Đã hiểu\"\n                });\n                return;\n              }\n\n              let userLogin = JSON.parse(localStorage.getItem(CURRENTUSER));\n              let objectAPI = {\n                maLichChieu: props.match.params.maLichChieu,\n                danhSachVe: movieShowtimes.bookingChairList,\n                taiKhoanNguoiDung: userLogin.taiKhoan\n              };\n              console.log(objectAPI);\n              const action = actBookTicket(objectAPI);\n              dispatch(action);\n              Swal.fire({\n                icon: \"success\",\n                title: \"Đặt vé thành công\",\n                text: \"Kiểm tra trong lịch sử đặt vé\",\n                confirmButtonText: \"Đồng ý\"\n              }).then(result => {\n                if (result.isConfirmed) {\n                  dispatch(actGetMovieShowtimesApi(props.match.params.maLichChieu));\n                } else {\n                  dispatch(actGetMovieShowtimesApi(props.match.params.maLichChieu));\n                }\n              });\n            },\n            className: classes.buttonPurchase,\n            children: \"\\u0110\\u1EB6T V\\xC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Purchase, \"gr6gEgvkywpiAEMHs9j3M3D+yww=\", false, function () {\n  return [useSelector, useDispatch, useHistory, useStyles];\n});\n\n_c = Purchase;\nexport default Purchase;\n\nvar _c;\n\n$RefreshReg$(_c, \"Purchase\");","map":{"version":3,"sources":["E:/Semester_6/Booking_App/booking/src/containers/HomeTemplate/Purchase/index.js"],"names":["Container","Divider","Grid","Paper","Typography","Button","React","useEffect","useState","actGetMovieShowtimesApi","actBookTicket","useDispatch","useSelector","useStyles","Spinner","Fragment","CURRENTUSER","LoadingPage","Swal","useHistory","Purchase","props","renderLoading","height","display","alignItems","justifyContent","borderColor","movieShowtimes","state","movieShowtimesReducer","dispatch","history","showtimesID","match","params","maLichChieu","num","setnum","flag","setFlag","chairRowArray","renderChairRow","index","classes","rowChairContainer","rowChairName","renderMovieChair","data","danhSachGhe","map","chair","indexChair","bookingChairList","findIndex","choseChair","maGhe","classBookedChair","daDat","bookedChair","classVipChair","loaiGhe","vipChair","classChoosingChair","console","log","backgroundColor","type","payload","stt","root","loading","chairContainer","width","margin","demoChairContainer","demoChairGroup","demoChair","datveBox","sectionSpacing","color","fontSize","textAlign","reduce","tongTien","gheDD","giaVe","flexInfo","spanInfo","thongTinPhim","tenCumRap","textElipsis","diaChi","tenRap","ngayChieu","gioChieu","tenPhim","bookChair","localStorage","getItem","fire","icon","title","text","confirmButtonText","showDenyButton","denyButtonText","then","result","isConfirmed","push","length","userLogin","JSON","parse","objectAPI","danhSachVe","taiKhoanNguoiDung","taiKhoan","action","buttonPurchase"],"mappings":"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","sourcesContent":["import {\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { actGetMovieShowtimesApi, actBookTicket } from \"./modules/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useStyles } from \"./style\";\r\nimport Spinner from \"react-spinner-material\";\r\nimport { Fragment } from \"react\";\r\nimport { CURRENTUSER } from \"./modules/newconstant\";\r\nimport LoadingPage from \"../../../components/LoadingPage\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction Purchase(props) {\r\n  const renderLoading = () => {\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"30vh\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          borderColor: \"#0ff\",\r\n        }}\r\n      >\r\n        <Spinner\r\n          size={120}\r\n          spinnerColor={\"#00f\"}\r\n          spinnerWidth={1}\r\n          visible={true}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  const movieShowtimes = useSelector((state) => state.movieShowtimesReducer);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    let showtimesID = props.match.params.maLichChieu;\r\n    dispatch(actGetMovieShowtimesApi(showtimesID));\r\n  }, []);\r\n\r\n  const [num, setnum] = useState(0);\r\n  const [flag, setFlag] = useState(false);\r\n  const chairRowArray = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\"];\r\n  const renderChairRow = (index) => {\r\n    return (\r\n      <div className={classes.rowChairContainer}>\r\n        <Typography className={classes.rowChairName}>\r\n          {chairRowArray[index]}\r\n        </Typography>\r\n      </div>\r\n    );\r\n  };\r\n  const renderMovieChair = (data) => {\r\n    return data.danhSachGhe.map((chair, index) => {\r\n      let indexChair = movieShowtimes.bookingChairList.findIndex(\r\n        (choseChair) => choseChair.maGhe === chair.maGhe\r\n      );\r\n      let classBookedChair = chair.daDat ? classes.bookedChair : null;\r\n      let classVipChair = chair.loaiGhe === \"Vip\" ? classes.vipChair : null;\r\n      let classChoosingChair = \"\";\r\n      if (indexChair !== -1) {\r\n        classChoosingChair = \"green\";\r\n        console.log(classChoosingChair, \"aa\");\r\n      }\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            disabled={chair.daDat}\r\n            className={`${classes.chair} ${classBookedChair} ${classVipChair}`}\r\n            style={{ backgroundColor: `${classChoosingChair}` }}\r\n            onClick={() => {\r\n              dispatch({\r\n                type: \"CHOOSE_CHAIR\",\r\n                payload: chair,\r\n              });\r\n            }}\r\n          >\r\n            {chair.daDat ? \"X\" : chair.stt}\r\n          </Button>\r\n          {/* {(index + 1) % 16 === 0 ? renderChairRow(num) : \"\"} */}\r\n          {(index + 1) % 16 === 0 ? <br /> : \"\"}\r\n        </Fragment>\r\n      );\r\n    });\r\n  };\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      {movieShowtimes.loading ? (\r\n        <LoadingPage />\r\n      ) : (\r\n        <Grid container>\r\n          <Grid item xs={8}>\r\n            <div className={classes.chairContainer}>\r\n              <img\r\n                style={{ width: \"100%\" }}\r\n                src=\"https://tix.vn/app/assets/img/icons/screen.png\"\r\n              />\r\n              <div style={{ width: \"79.9%\", margin: \"0 auto\" }}>\r\n                {movieShowtimes.data\r\n                  ? renderMovieChair(movieShowtimes.data)\r\n                  : null}\r\n              </div>\r\n              <div className={classes.demoChairContainer}>\r\n                <div className={classes.demoChairGroup}>\r\n                  <Button\r\n                    disabled={true}\r\n                    className={`${classes.chair} ${classes.bookedChair} ${classes.demoChair}`}\r\n                  >\r\n                    X\r\n                  </Button>\r\n                  <Typography>Đã đặt</Typography>\r\n                </div>\r\n                <div className={classes.demoChairGroup}>\r\n                  <Button\r\n                    disabled={true}\r\n                    className={`${classes.chair} ${classes.demoChair}`}\r\n                  ></Button>\r\n                  <Typography>Thường</Typography>\r\n                </div>\r\n                <div className={classes.demoChairGroup}>\r\n                  <Button\r\n                    disabled={true}\r\n                    className={`${classes.chair} ${classes.vipChair} ${classes.demoChair}`}\r\n                  ></Button>\r\n\r\n                  <Typography>Vip</Typography>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          {movieShowtimes.data ? (\r\n            <Grid item xs={4}>\r\n              <div className={classes.datveBox}>\r\n                <div className={classes.sectionSpacing}>\r\n                  <Typography\r\n                    style={{\r\n                      color: \"#8bc34a\",\r\n                      fontSize: \"35px\",\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  >\r\n                    {movieShowtimes.bookingChairList.reduce(\r\n                      (tongTien, gheDD, index) => {\r\n                        return (tongTien += gheDD.giaVe);\r\n                      },\r\n                      0\r\n                    )}{\" \"}\r\n                    VND\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <div\r\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\r\n                >\r\n                  <Typography variant=\"h3\">Cụm Rạp:</Typography>\r\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\r\n                    {movieShowtimes.data.thongTinPhim.tenCumRap}\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <div\r\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\r\n                >\r\n                  <Typography variant=\"h3\">Địa chỉ:</Typography>\r\n                  <Typography\r\n                    variant=\"h3\"\r\n                    className={`${classes.spanInfo} ${classes.textElipsis}`}\r\n                  >\r\n                    {movieShowtimes.data.thongTinPhim.diaChi}\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <div\r\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\r\n                >\r\n                  <Typography variant=\"h3\">Rạp:</Typography>\r\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\r\n                    {movieShowtimes.data.thongTinPhim.tenRap}\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <div\r\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\r\n                >\r\n                  <Typography variant=\"h3\">Ngày giờ chiếu:</Typography>\r\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\r\n                    {movieShowtimes.data.thongTinPhim.ngayChieu} -{\" \"}\r\n                    <span style={{ color: \"red\" }}>\r\n                      {movieShowtimes.data.thongTinPhim.gioChieu}\r\n                    </span>\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <div\r\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\r\n                >\r\n                  <Typography variant=\"h3\">Tên Phim:</Typography>\r\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\r\n                    {movieShowtimes.data.thongTinPhim.tenPhim}\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <div\r\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\r\n                >\r\n                  <Typography variant=\"h3\">Chọn: </Typography>\r\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\r\n                    {movieShowtimes.bookingChairList.map((bookChair, index) => {\r\n                      return <span>Ghế {bookChair.stt}, </span>;\r\n                    })}\r\n                  </Typography>\r\n                </div>\r\n                <Divider variant=\"middle\" />\r\n                <Button\r\n                  onClick={() => {\r\n                    if (!localStorage.getItem(CURRENTUSER)) {\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Bạn chưa đăng nhập\",\r\n                        text: \"Bạn có muốn đăng nhập không ?\",\r\n                        confirmButtonText: \"Đồng ý\",\r\n                        showDenyButton: true,\r\n                        denyButtonText: \"Không\",\r\n                      }).then((result) => {\r\n                        if (result.isConfirmed) {\r\n                          history.push(\"/sign-in\");\r\n                        }\r\n                      });\r\n                      return;\r\n                    }\r\n                    if (movieShowtimes.bookingChairList.length === 0) {\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Bạn chưa chọn ghế\",\r\n                        text: \"Vui lòng chọn ghế ?\",\r\n                        confirmButtonText: \"Đã hiểu\",\r\n                      });\r\n                      return;\r\n                    }\r\n                    let userLogin = JSON.parse(\r\n                      localStorage.getItem(CURRENTUSER)\r\n                    );\r\n                    let objectAPI = {\r\n                      maLichChieu: props.match.params.maLichChieu,\r\n                      danhSachVe: movieShowtimes.bookingChairList,\r\n                      taiKhoanNguoiDung: userLogin.taiKhoan,\r\n                    };\r\n                    console.log(objectAPI);\r\n                    const action = actBookTicket(objectAPI);\r\n                    dispatch(action);\r\n                    Swal.fire({\r\n                      icon: \"success\",\r\n                      title: \"Đặt vé thành công\",\r\n                      text: \"Kiểm tra trong lịch sử đặt vé\",\r\n                      confirmButtonText: \"Đồng ý\",\r\n                    }).then((result) => {\r\n                      if (result.isConfirmed) {\r\n                        dispatch(\r\n                          actGetMovieShowtimesApi(\r\n                            props.match.params.maLichChieu\r\n                          )\r\n                        );\r\n                      } else {\r\n                        dispatch(\r\n                          actGetMovieShowtimesApi(\r\n                            props.match.params.maLichChieu\r\n                          )\r\n                        );\r\n                      }\r\n                    });\r\n                  }}\r\n                  className={classes.buttonPurchase}\r\n                >\r\n                  ĐẶT VÉ\r\n                </Button>\r\n              </div>\r\n            </Grid>\r\n          ) : null}\r\n        </Grid>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Purchase;\r\n"]},"metadata":{},"sourceType":"module"}