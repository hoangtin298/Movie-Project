{"ast":null,"code":"import * as actionTypes from \"./constant\";\nimport axios from \"axios\";\nexport const actAddMovieApi = (movie, selectedFile) => {\n  const accessToken = JSON.parse(localStorage.getItem(\"currentUser\")).accessToken;\n  return dispatch => {\n    dispatch(actAddMovieRequest());\n    axios({\n      url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhim`,\n      method: \"POST\",\n      data: movie,\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(result => {\n      dispatch(actAddMovieSuccess(result.data));\n      const frm = new FormData();\n      frm.append(\"File\", selectedFile, selectedFile.name);\n      frm.append(\"tenPhim\", movie.tenPhim);\n      frm.append(\"maNhom\", \"GP09\");\n      axios({\n        url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhimUploadHinh\",\n        method: \"POST\",\n        data: frm\n      }).then(result => {\n        console.log(result);\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      dispatch(actAddMovieFailed(error));\n    });\n  };\n};\nexport const actGetMoviePagingApi = (soTrang, soPhanTuTrenTrang, tenPhim) => {\n  return dispatch => {\n    dispatch(actGetMoviePagingRequest());\n    axios({\n      url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=GP09&soTrang=1&soPhanTuTrenTrang=8`,\n      method: \"GET\",\n      params: {\n        maNhom: \"GP09\",\n        tenPhim,\n        soTrang,\n        soPhanTuTrenTrang\n      }\n    });\n  };\n};\n\nconst actAddMovieRequest = () => {\n  return {\n    type: actionTypes.ADD_MOVIE_REQUEST\n  };\n};\n\nconst actAddMovieSuccess = movie => {\n  return {\n    type: actionTypes.ADD_MOVIE_SUCCESS,\n    payload: movie\n  };\n};\n\nconst actAddMovieFailed = error => {\n  return {\n    type: actionTypes.ADD_MOVIE_FAILED,\n    payload: error\n  };\n};\n\nconst actGetMoviePagingRequest = () => {\n  return {\n    type: actionTypes.GET_MOVIE_PAGING_REQUEST\n  };\n};\n\nconst actGetMoviePagingSuccess = moviePaging => {\n  return {\n    type: actionTypes.GET_MOVIE_PAGING_SUCCESS,\n    payload: moviePaging\n  };\n};\n\nconst actGetMoviePagingFailed = error => {\n  return {\n    type: actionTypes.GET_MOVIE_PAGING_FAILED,\n    payload: error\n  };\n};","map":{"version":3,"sources":["E:/Semester_6/Booking_App/booking/src/containers/AdminTemplate/ManageMovie/modules/action.js"],"names":["actionTypes","axios","actAddMovieApi","movie","selectedFile","accessToken","JSON","parse","localStorage","getItem","dispatch","actAddMovieRequest","url","method","data","headers","Authorization","then","result","actAddMovieSuccess","frm","FormData","append","name","tenPhim","console","log","catch","error","actAddMovieFailed","actGetMoviePagingApi","soTrang","soPhanTuTrenTrang","actGetMoviePagingRequest","params","maNhom","type","ADD_MOVIE_REQUEST","ADD_MOVIE_SUCCESS","payload","ADD_MOVIE_FAILED","GET_MOVIE_PAGING_REQUEST","actGetMoviePagingSuccess","moviePaging","GET_MOVIE_PAGING_SUCCESS","actGetMoviePagingFailed","GET_MOVIE_PAGING_FAILED"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./constant\";\r\nimport axios from \"axios\";\r\n\r\nexport const actAddMovieApi = (movie, selectedFile) => {\r\n  const accessToken = JSON.parse(\r\n    localStorage.getItem(\"currentUser\")\r\n  ).accessToken;\r\n  return (dispatch) => {\r\n    dispatch(actAddMovieRequest());\r\n    axios({\r\n      url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhim`,\r\n      method: \"POST\",\r\n      data: movie,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n    })\r\n      .then((result) => {\r\n        dispatch(actAddMovieSuccess(result.data));\r\n\r\n        const frm = new FormData();\r\n        frm.append(\"File\", selectedFile, selectedFile.name);\r\n        frm.append(\"tenPhim\", movie.tenPhim);\r\n        frm.append(\"maNhom\", \"GP09\");\r\n        axios({\r\n          url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhimUploadHinh\",\r\n          method: \"POST\",\r\n          data: frm,\r\n        })\r\n          .then((result) => {\r\n            console.log(result);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        dispatch(actAddMovieFailed(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const actGetMoviePagingApi = (soTrang, soPhanTuTrenTrang, tenPhim) => {\r\n  return (dispatch) => {\r\n    dispatch(actGetMoviePagingRequest());\r\n    axios({\r\n      url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=GP09&soTrang=1&soPhanTuTrenTrang=8`,\r\n      method: \"GET\",\r\n      params: {\r\n        maNhom: \"GP09\",\r\n        tenPhim,\r\n        soTrang,\r\n        soPhanTuTrenTrang,\r\n      },\r\n    });\r\n  };\r\n};\r\n\r\nconst actAddMovieRequest = () => {\r\n  return {\r\n    type: actionTypes.ADD_MOVIE_REQUEST,\r\n  };\r\n};\r\nconst actAddMovieSuccess = (movie) => {\r\n  return {\r\n    type: actionTypes.ADD_MOVIE_SUCCESS,\r\n    payload: movie,\r\n  };\r\n};\r\nconst actAddMovieFailed = (error) => {\r\n  return {\r\n    type: actionTypes.ADD_MOVIE_FAILED,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nconst actGetMoviePagingRequest = () => {\r\n  return {\r\n    type: actionTypes.GET_MOVIE_PAGING_REQUEST,\r\n  };\r\n};\r\nconst actGetMoviePagingSuccess = (moviePaging) => {\r\n  return {\r\n    type: actionTypes.GET_MOVIE_PAGING_SUCCESS,\r\n    payload: moviePaging,\r\n  };\r\n};\r\nconst actGetMoviePagingFailed = (error) => {\r\n  return {\r\n    type: actionTypes.GET_MOVIE_PAGING_FAILED,\r\n    payload: error,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}